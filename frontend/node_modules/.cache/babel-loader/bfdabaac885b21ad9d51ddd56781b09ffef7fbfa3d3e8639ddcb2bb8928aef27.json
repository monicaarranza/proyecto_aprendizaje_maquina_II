{"ast":null,"code":"var _jsxFileName = \"/Users/h8pc/Documents/Q3_2025/AM2/Proyecto/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction speak(text) {\n  if ('speechSynthesis' in window) {\n    const utter = new window.SpeechSynthesisUtterance(text);\n    window.speechSynthesis.speak(utter);\n  }\n}\nfunction App() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [ocrResult, setOcrResult] = useState('');\n  const [objectResult, setObjectResult] = useState('');\n  const [captionResult, setCaptionResult] = useState('');\n  const inputRef = useRef();\n  const handleFileChange = e => {\n    setSelectedFile(e.target.files[0]);\n    setOcrResult('');\n    setObjectResult('');\n    setCaptionResult('');\n  };\n  const handleOcr = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/ocr/', {\n      method: 'POST',\n      body: formData\n    });\n    const data = await res.json();\n    setOcrResult(data.text);\n    speak(data.text);\n  };\n  const handleDetectObjects = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/detect/', {\n      method: 'POST',\n      body: formData\n    });\n    const data = await res.json();\n    setObjectResult(data.objects || data.result || '');\n    speak(data.objects ? data.objects.join(', ') : data.result || '');\n  };\n  const handleCaption = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/caption/', {\n      method: 'POST',\n      body: formData\n    });\n    const data = await res.json();\n    setCaptionResult(data.caption || data.result || '');\n    speak(data.caption || data.result || '');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginTop: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Visual Assistant Web App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Prototipo de asistencia visual para personas con discapacidad visual.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange,\n      ref: inputRef,\n      \"aria-label\": \"Subir imagen para an\\xE1lisis\",\n      style: {\n        margin: '1rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOcr,\n        disabled: !selectedFile,\n        style: {\n          fontSize: '1.1rem',\n          padding: '0.5rem 1.2rem',\n          marginRight: '0.5rem'\n        },\n        \"aria-label\": \"Leer texto de la imagen\",\n        children: \"Leer texto (OCR)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDetectObjects,\n        disabled: !selectedFile,\n        style: {\n          fontSize: '1.1rem',\n          padding: '0.5rem 1.2rem',\n          marginRight: '0.5rem'\n        },\n        \"aria-label\": \"Detectar objetos en la imagen\",\n        children: \"Detectar objetos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCaption,\n        disabled: !selectedFile,\n        style: {\n          fontSize: '1.1rem',\n          padding: '0.5rem 1.2rem'\n        },\n        \"aria-label\": \"Describir la escena de la imagen\",\n        children: \"Describir escena\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), ocrResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Texto detectado:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1.1rem'\n        },\n        children: ocrResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), objectResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Objetos detectados:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1.1rem'\n        },\n        children: Array.isArray(objectResult) ? objectResult.join(', ') : objectResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), captionResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Descripci\\xF3n de la escena:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1.1rem'\n        },\n        children: captionResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"P7VBTVaZG1cRFke6zqz2L2MBoEo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","speak","text","window","utter","SpeechSynthesisUtterance","speechSynthesis","App","_s","selectedFile","setSelectedFile","ocrResult","setOcrResult","objectResult","setObjectResult","captionResult","setCaptionResult","inputRef","handleFileChange","e","target","files","handleOcr","formData","FormData","append","res","fetch","method","body","data","json","handleDetectObjects","objects","result","join","handleCaption","caption","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","ref","margin","onClick","disabled","fontSize","padding","marginRight","Array","isArray","_c","$RefreshReg$"],"sources":["/Users/h8pc/Documents/Q3_2025/AM2/Proyecto/frontend/src/App.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\n\nfunction speak(text) {\n  if ('speechSynthesis' in window) {\n    const utter = new window.SpeechSynthesisUtterance(text);\n    window.speechSynthesis.speak(utter);\n  }\n}\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [ocrResult, setOcrResult] = useState('');\n  const [objectResult, setObjectResult] = useState('');\n  const [captionResult, setCaptionResult] = useState('');\n  const inputRef = useRef();\n\n  const handleFileChange = (e) => {\n    setSelectedFile(e.target.files[0]);\n    setOcrResult('');\n    setObjectResult('');\n    setCaptionResult('');\n  };\n\n  const handleOcr = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/ocr/', {\n      method: 'POST',\n      body: formData,\n    });\n    const data = await res.json();\n    setOcrResult(data.text);\n    speak(data.text);\n  };\n\n  const handleDetectObjects = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/detect/', {\n      method: 'POST',\n      body: formData,\n    });\n    const data = await res.json();\n    setObjectResult(data.objects || data.result || '');\n    speak(data.objects ? data.objects.join(', ') : data.result || '');\n  };\n\n  const handleCaption = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    const res = await fetch('http://localhost:8000/caption/', {\n      method: 'POST',\n      body: formData,\n    });\n    const data = await res.json();\n    setCaptionResult(data.caption || data.result || '');\n    speak(data.caption || data.result || '');\n  };\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '2rem' }}>\n      <h1>Visual Assistant Web App</h1>\n      <p>Prototipo de asistencia visual para personas con discapacidad visual.</p>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        ref={inputRef}\n        aria-label=\"Subir imagen para análisis\"\n        style={{ margin: '1rem' }}\n      />\n      <div style={{ margin: '1rem' }}>\n        <button\n          onClick={handleOcr}\n          disabled={!selectedFile}\n          style={{ fontSize: '1.1rem', padding: '0.5rem 1.2rem', marginRight: '0.5rem' }}\n          aria-label=\"Leer texto de la imagen\"\n        >\n          Leer texto (OCR)\n        </button>\n        <button\n          onClick={handleDetectObjects}\n          disabled={!selectedFile}\n          style={{ fontSize: '1.1rem', padding: '0.5rem 1.2rem', marginRight: '0.5rem' }}\n          aria-label=\"Detectar objetos en la imagen\"\n        >\n          Detectar objetos\n        </button>\n        <button\n          onClick={handleCaption}\n          disabled={!selectedFile}\n          style={{ fontSize: '1.1rem', padding: '0.5rem 1.2rem' }}\n          aria-label=\"Describir la escena de la imagen\"\n        >\n          Describir escena\n        </button>\n      </div>\n      {ocrResult && (\n        <div style={{ marginTop: '2rem' }}>\n          <h2>Texto detectado:</h2>\n          <p style={{ fontSize: '1.1rem' }}>{ocrResult}</p>\n        </div>\n      )}\n      {objectResult && (\n        <div style={{ marginTop: '2rem' }}>\n          <h2>Objetos detectados:</h2>\n          <p style={{ fontSize: '1.1rem' }}>{Array.isArray(objectResult) ? objectResult.join(', ') : objectResult}</p>\n        </div>\n      )}\n      {captionResult && (\n        <div style={{ marginTop: '2rem' }}>\n          <h2>Descripción de la escena:</h2>\n          <p style={{ fontSize: '1.1rem' }}>{captionResult}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}